<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web3 & WalletConnect Example</title>
    <script type="text/javascript"
        src="https://unpkg.com/@walletconnect/web3-provider@1.2.1/dist/umd/index.min.js"></script>
</head>

<body>

    <button onclick="connectWallet()">Connect to Wallet</button>

    <script>
        async function connectWallet() {
            let provider;

            // Check for web3 injection
            if (window.ethereum) {
                provider = window.ethereum;
                try {
                    // Request account access if needed
                    await window.ethereum.request({ method: 'eth_requestAccounts' });
                } catch (error) {
                    console.error("User denied account access");
                    return;
                }
            } else if (window.web3) {
                // Legacy dapp browsers...
                provider = window.web3.currentProvider;
            } else {
                console.log("No web3? Using WalletConnect instead.");
                const WalletConnectProvider = window.WalletConnectProvider.default;
                provider = new WalletConnectProvider({
                    infuraId: "YOUR_INFURA_PROJECT_ID"
                });
                await provider.enable();
            }

            console.log("Provider set!");
            // You can now use the provider...
        }
    </script>

</body>

</html>
